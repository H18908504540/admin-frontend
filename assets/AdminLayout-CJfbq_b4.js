import{d as X,c as T,u as ve,a as J,b as V,e as i,f as ge,r as v,w as p,g as S,h as he,i as z,j as be,k as ye,s as we,l as Y,o as x,_ as Se,m as ke,n as $,t as E,p as Ce,q as re,v as U,x as Te,y as ne,z as ue,A as K,B as Me,C as Ae,D as oe,E as ie,F as xe,G as Ee,H as ae,I as H,J as ce,K as Ne,L as Oe,M as De,N as Le,O as Fe,P as Re,Q as G,R as Ve,S as We,T as je,U as Be}from"./index-D2xjnMUw.js";const ze={class:"sidebar-container"},$e={key:0,class:"sidebar-title"},Ie=X({__name:"AppSidebar",props:{isCollapse:{type:Boolean,required:!0}},setup(e){const n=ve(),t=Y(),a=T(()=>{const{meta:c,path:s}=n;return c.activeMenu?c.activeMenu:s}),l=()=>{t.push("/admin/dashboard")};return(c,s)=>{const o=v("el-icon"),r=v("el-menu-item"),f=v("el-sub-menu"),m=v("el-menu"),u=v("el-scrollbar");return x(),J("div",ze,[V("div",{class:"logo-container",onClick:l},[e.isCollapse?ge("",!0):(x(),J("h1",$e,"管理系统"))]),i(u,{"wrap-class":"scrollbar-wrapper"},{default:p(()=>[i(m,{"default-active":a.value,class:"el-menu-vertical",collapse:e.isCollapse,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF","unique-opened":!0,"collapse-transition":!1,mode:"vertical",router:""},{default:p(()=>[i(r,{index:"/admin/dashboard"},{title:p(()=>s[0]||(s[0]=[z("仪表盘")])),default:p(()=>[i(o,null,{default:p(()=>[i(S(he))]),_:1})]),_:1}),i(f,{index:"/admin/management"},{title:p(()=>[i(o,null,{default:p(()=>[i(S(we))]),_:1}),s[1]||(s[1]=V("span",null,"系统管理",-1))]),default:p(()=>[i(r,{index:"/admin/users"},{default:p(()=>[i(o,null,{default:p(()=>[i(S(be))]),_:1}),s[2]||(s[2]=z(" 用户管理 "))]),_:1,__:[2]}),i(r,{index:"/admin/roles"},{default:p(()=>[i(o,null,{default:p(()=>[i(S(ye))]),_:1}),s[3]||(s[3]=z(" 角色管理 "))]),_:1,__:[3]})]),_:1})]),_:1},8,["default-active","collapse"])]),_:1})])}}}),He=Se(Ie,[["__scopeId","data-v-3d2f6124"]]);function Je(e){return Me()?(Ae(e),!0):!1}const Z=new WeakMap,Pe=(...e)=>{var n;const t=e[0],a=(n=oe())==null?void 0:n.proxy;if(a==null&&!ie())throw new Error("injectLocal must be called in setup");return a&&Z.has(a)&&t in Z.get(a)?Z.get(a)[t]:xe(...e)},Ke=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Ge=Object.prototype.toString,Qe=e=>Ge.call(e)==="[object Object]",qe=()=>{};function de(...e){if(e.length!==1)return Ce(...e);const n=e[0];return typeof n=="function"?re(Te(()=>({get:n,set:qe}))):U(n)}function Ue(e,n){function t(...a){return new Promise((l,c)=>{Promise.resolve(e(()=>n.apply(this,a),{fn:n,thisArg:this,args:a})).then(l).catch(c)})}return t}const fe=e=>e();function Xe(e=fe,n={}){const{initialState:t="active"}=n,a=de(t==="active");function l(){a.value=!1}function c(){a.value=!0}const s=(...o)=>{a.value&&e(...o)};return{isActive:re(a),pause:l,resume:c,eventFilter:s}}function se(e){return e.endsWith("rem")?Number.parseFloat(e)*16:Number.parseFloat(e)}function ee(e){return Array.isArray(e)?e:[e]}function Ye(e){return oe()}function Ze(e,n,t={}){const{eventFilter:a=fe,...l}=t;return K(e,Ue(a,n),l)}function et(e,n,t={}){const{eventFilter:a,initialState:l="active",...c}=t,{eventFilter:s,pause:o,resume:r,isActive:f}=Xe(a,{initialState:l});return{stop:Ze(e,n,{...c,eventFilter:s}),pause:o,resume:r,isActive:f}}function pe(e,n=!0,t){Ye()?ne(e,t):n?e():ue(e)}function tt(e=!1,n={}){const{truthyValue:t=!0,falsyValue:a=!1}=n,l=ke(e),c=$(e);function s(o){if(arguments.length)return c.value=o,c.value;{const r=E(t);return c.value=c.value===r?E(a):r,c.value}}return l?s:[c,s]}function nt(e,n,t){return K(e,n,{...t,immediate:!0})}const P=Ke?window:void 0;function me(e){var n;const t=E(e);return(n=t==null?void 0:t.$el)!=null?n:t}function te(...e){const n=[],t=()=>{n.forEach(o=>o()),n.length=0},a=(o,r,f,m)=>(o.addEventListener(r,f,m),()=>o.removeEventListener(r,f,m)),l=T(()=>{const o=ee(E(e[0])).filter(r=>r!=null);return o.every(r=>typeof r!="string")?o:void 0}),c=nt(()=>{var o,r;return[(r=(o=l.value)==null?void 0:o.map(f=>me(f)))!=null?r:[P].filter(f=>f!=null),ee(E(l.value?e[1]:e[0])),ee(S(l.value?e[2]:e[1])),E(l.value?e[3]:e[2])]},([o,r,f,m])=>{if(t(),!(o!=null&&o.length)||!(r!=null&&r.length)||!(f!=null&&f.length))return;const u=Qe(m)?{...m}:m;n.push(...o.flatMap(h=>r.flatMap(g=>f.map(_=>a(h,g,_,u)))))},{flush:"post"}),s=()=>{c(),t()};return Je(t),s}function ot(){const e=$(!1),n=oe();return n&&ne(()=>{e.value=!0},n),e}function at(e){const n=ot();return T(()=>(n.value,!!e()))}const st=Symbol("vueuse-ssr-width");function lt(){const e=ie()?Pe(st,null):null;return typeof e=="number"?e:void 0}function rt(e,n={}){const{window:t=P,ssrWidth:a=lt()}=n,l=at(()=>t&&"matchMedia"in t&&typeof t.matchMedia=="function"),c=$(typeof a=="number"),s=$(),o=$(!1),r=f=>{o.value=f.matches};return Ee(()=>{if(c.value){c.value=!l.value;const f=E(e).split(",");o.value=f.some(m=>{const u=m.includes("not all"),h=m.match(/\(\s*min-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/),g=m.match(/\(\s*max-width:\s*(-?\d+(?:\.\d*)?[a-z]+\s*)\)/);let _=!!(h||g);return h&&_&&(_=a>=se(h[1])),g&&_&&(_=a<=se(g[1])),u?!_:_});return}l.value&&(s.value=t.matchMedia(E(e)),o.value=s.value.matches)}),te(s,"change",r,{passive:!0}),T(()=>o.value)}const Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},q="__vueuse_ssr_handlers__",ut=it();function it(){return q in Q||(Q[q]=Q[q]||{}),Q[q]}function _e(e,n){return ut[e]||n}function ct(e){return rt("(prefers-color-scheme: dark)",e)}function dt(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const ft={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},le="vueuse-storage";function pt(e,n,t,a={}){var l;const{flush:c="pre",deep:s=!0,listenToStorageChanges:o=!0,writeDefaults:r=!0,mergeDefaults:f=!1,shallow:m,window:u=P,eventFilter:h,onError:g=d=>{console.error(d)},initOnMounted:_}=a,y=(m?$:U)(typeof n=="function"?n():n),w=T(()=>E(e));if(!t)try{t=_e("getDefaultStorage",()=>{var d;return(d=P)==null?void 0:d.localStorage})()}catch(d){g(d)}if(!t)return y;const C=E(n),D=dt(C),N=(l=a.serializer)!=null?l:ft[D],{pause:k,resume:O}=et(y,()=>L(y.value),{flush:c,deep:s,eventFilter:h});K(w,()=>M(),{flush:c});let W=!1;const j=d=>{_&&!W||M(d)},I=d=>{_&&!W||R(d)};u&&o&&(t instanceof Storage?te(u,"storage",j,{passive:!0}):te(u,le,I)),_?pe(()=>{W=!0,M()}):M();function B(d,b){if(u){const A={key:w.value,oldValue:d,newValue:b,storageArea:t};u.dispatchEvent(t instanceof Storage?new StorageEvent("storage",A):new CustomEvent(le,{detail:A}))}}function L(d){try{const b=t.getItem(w.value);if(d==null)B(b,null),t.removeItem(w.value);else{const A=N.write(d);b!==A&&(t.setItem(w.value,A),B(b,A))}}catch(b){g(b)}}function F(d){const b=d?d.newValue:t.getItem(w.value);if(b==null)return r&&C!=null&&t.setItem(w.value,N.write(C)),C;if(!d&&f){const A=N.read(b);return typeof f=="function"?f(A,C):D==="object"&&!Array.isArray(A)?{...C,...A}:A}else return typeof b!="string"?b:N.read(b)}function M(d){if(!(d&&d.storageArea!==t)){if(d&&d.key==null){y.value=C;return}if(!(d&&d.key!==w.value)){k();try{(d==null?void 0:d.newValue)!==N.write(y.value)&&(y.value=F(d))}catch(b){g(b)}finally{d?ue(O):O()}}}}function R(d){M(d.detail)}return y}const mt="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function _t(e={}){const{selector:n="html",attribute:t="class",initialValue:a="auto",window:l=P,storage:c,storageKey:s="vueuse-color-scheme",listenToStorageChanges:o=!0,storageRef:r,emitAuto:f,disableTransition:m=!0}=e,u={auto:"",light:"light",dark:"dark",...e.modes||{}},h=ct({window:l}),g=T(()=>h.value?"dark":"light"),_=r||(s==null?de(a):pt(s,a,c,{window:l,listenToStorageChanges:o})),y=T(()=>_.value==="auto"?g.value:_.value),w=_e("updateHTMLAttrs",(k,O,W)=>{const j=typeof k=="string"?l==null?void 0:l.document.querySelector(k):me(k);if(!j)return;const I=new Set,B=new Set;let L=null;if(O==="class"){const M=W.split(/\s/g);Object.values(u).flatMap(R=>(R||"").split(/\s/g)).filter(Boolean).forEach(R=>{M.includes(R)?I.add(R):B.add(R)})}else L={key:O,value:W};if(I.size===0&&B.size===0&&L===null)return;let F;m&&(F=l.document.createElement("style"),F.appendChild(document.createTextNode(mt)),l.document.head.appendChild(F));for(const M of I)j.classList.add(M);for(const M of B)j.classList.remove(M);L&&j.setAttribute(L.key,L.value),m&&(l.getComputedStyle(F).opacity,document.head.removeChild(F))});function C(k){var O;w(n,t,(O=u[k])!=null?O:k)}function D(k){e.onChanged?e.onChanged(k,C):C(k)}K(y,D,{flush:"post",immediate:!0}),pe(()=>D(y.value));const N=T({get(){return f?_.value:y.value},set(k){_.value=k}});return Object.assign(N,{store:_,system:g,state:y})}function vt(e={}){const{valueDark:n="dark",valueLight:t=""}=e,a=_t({...e,onChanged:(s,o)=>{var r;e.onChanged?(r=e.onChanged)==null||r.call(e,s==="dark",o,s):o(s)},modes:{dark:n,light:t}}),l=T(()=>a.system.value);return T({get(){return a.value==="dark"},set(s){const o=s?"dark":"light";l.value===o?a.value="auto":a.value=o}})}const gt={class:"app-header"},ht={class:"left-menu"},bt={class:"right-menu"},yt={class:"el-dropdown-link"},wt=X({__name:"AppHeader",props:{isCollapse:{}},emits:["toggle-collapse"],setup(e,{emit:n}){const t=e,a=n,l=Y(),c=ae(),s=vt(),o=tt(s);K(s,m=>{console.log("暗黑模式状态变化:",m),console.log("HTML 类名:",document.documentElement.className)},{immediate:!0});const r=()=>{a("toggle-collapse")},f=m=>{switch(m){case"profile":G("点击了个人中心");break;case"settings":G("点击了系统设置");break;case"logout":Re.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{G.success("已退出登录"),localStorage.removeItem("authToken"),c.clearTabs(),l.push("/login")}).catch(()=>{G.info("已取消退出")});break}};return(m,u)=>{const h=v("el-icon"),g=v("el-button"),_=v("el-tooltip"),y=v("el-avatar"),w=v("el-dropdown-item"),C=v("el-dropdown-menu"),D=v("el-dropdown");return x(),J("div",gt,[V("div",ht,[i(h,{class:"collapse-icon",onClick:r},{default:p(()=>[(x(),H(ce(t.isCollapse?S(Ne):S(Oe))))]),_:1}),u[1]||(u[1]=V("span",null,"欢迎使用管理系统",-1))]),V("div",bt,[i(_,{effect:"dark",content:S(s)?"切换到亮色模式":"切换到暗黑模式",placement:"bottom"},{default:p(()=>[i(g,{icon:S(s)?S(De):S(Le),circle:"",onClick:u[0]||(u[0]=N=>S(o)()),class:"dark-mode-btn",type:S(s)?"warning":"primary"},null,8,["icon","type"])]),_:1},8,["content"]),i(D,{onCommand:f},{dropdown:p(()=>[i(C,null,{default:p(()=>[i(w,{command:"profile"},{default:p(()=>u[3]||(u[3]=[z("个人中心")])),_:1,__:[3]}),i(w,{command:"settings"},{default:p(()=>u[4]||(u[4]=[z("系统设置")])),_:1,__:[4]}),i(w,{command:"logout",divided:""},{default:p(()=>u[5]||(u[5]=[z("退出登录")])),_:1,__:[5]})]),_:1})]),default:p(()=>[V("span",yt,[i(y,{size:"small",src:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"}),u[2]||(u[2]=V("span",{class:"username"},"Admin",-1)),i(h,{class:"el-icon--right"},{default:p(()=>[i(S(Fe))]),_:1})])]),_:1})])])}}}),St={class:"tab-navigation-container"},kt=X({__name:"TabNavigation",setup(e){const n=Y(),t=ae(),a=T(()=>t.activeTab),l=T(()=>t.tabsList),c=o=>{n.push(o)},s=o=>{t.removeTab(o,n)};return(o,r)=>{const f=v("el-tab-pane"),m=v("el-tabs");return x(),J("div",St,[i(m,{modelValue:a.value,"onUpdate:modelValue":r[0]||(r[0]=u=>a.value=u),type:"card",onTabChange:c,onTabRemove:s,closable:""},{default:p(()=>[(x(!0),J(Ve,null,We(l.value,u=>(x(),H(f,{key:u.path,label:u.title,name:u.path,closable:u.closable},null,8,["label","name","closable"]))),128))]),_:1},8,["modelValue"])])}}}),Tt=X({__name:"AdminLayout",setup(e){const n=Y(),t=ae(),a=U([]),l=U(!1),c=()=>{l.value=!l.value};return ne(()=>{t.addTab(n.currentRoute.value)}),(s,o)=>{const r=v("el-aside"),f=v("el-header"),m=v("router-view"),u=v("el-main"),h=v("el-container");return x(),H(h,{class:"admin-layout-container"},{default:p(()=>[i(r,{width:l.value?"64px":"200px",class:"admin-aside"},{default:p(()=>[i(He,{"is-collapse":l.value},null,8,["is-collapse"])]),_:1},8,["width"]),i(h,null,{default:p(()=>[i(f,{class:"admin-header"},{default:p(()=>[i(wt,{"is-collapse":l.value,onToggleCollapse:c},null,8,["is-collapse"]),i(kt)]),_:1}),i(u,{class:"admin-main"},{default:p(()=>[i(m,null,{default:p(({Component:g,route:_})=>[i(je,{name:"fade-transform",mode:"out-in"},{default:p(()=>[(x(),H(Be,{include:a.value},[(x(),H(ce(g),{key:_.path}))],1032,["include"]))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}});export{Tt as default};
